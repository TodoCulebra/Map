<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Todo Culebra Map ğŸğŸŒ´</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body { margin:0; padding:0; }
    #map { height: 100vh; }
    .leaflet-popup-content { text-align: center; }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // Create the map centered on Culebra
    const map = L.map('map').setView([18.317, -65.29], 12);

    // OpenStreetMap tiles (free & beautiful)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Load and display the GeoJSON
    fetch('map_data.json')
      .then(response => response.json())
      .then(data => {
        L.geoJSON(data, {
          onEachFeature: function(feature, layer) {
            if (feature.properties) {
              const props = feature.properties;
              const popup = `<b>${props.name}</b><br>${props.description}<br><i>${props.category}</i>`;
              layer.bindPopup(popup);
            }
          },
          pointToLayer: function(feature, latlng) {
            const category = feature.properties.category;
            let color = '#3388ff'; // default blue
            if (category.includes('beach')) color = '#ffaa00';
            if (category.includes('snorkel')) color = '#00bfa5';
            if (category.includes('hike')) color = '#ff5722';

            return L.circleMarker(latlng, {
              radius: 8,
              fillColor: color,
              color: '#fff',
              weight: 2,
              opacity: 1,
              fillOpacity: 0.8
            });
          }
        }).addTo(map);
      });

    // Optional: nice touch when loading
    map.whenReady(() => {
      setTimeout(() => map.fitBounds(map.getBounds().pad(0.1)), 500);
    });
  </script>
</body>
</html>
